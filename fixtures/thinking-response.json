{
  "name": "thinking-response",
  "description": "Thinking block followed by text response. From empirical-verification.md Â§Thinking Blocks. Thinking produces thinking_delta events and a signature_delta before text.",
  "events": [
    {
      "type": "system",
      "subtype": "init",
      "cwd": "/Users/test/project",
      "session_id": "550e8400-e29b-41d4-a716-446655440000",
      "model": "claude-opus-4-6"
    },
    {
      "type": "stream_event",
      "event": {
        "type": "message_start",
        "message": {
          "model": "claude-opus-4-6",
          "id": "msg_01Think",
          "role": "assistant",
          "content": [],
          "stop_reason": null,
          "usage": { "input_tokens": 200, "output_tokens": 1 }
        }
      }
    },
    {
      "_comment": "Thinking block starts first",
      "type": "stream_event",
      "event": { "type": "content_block_start", "index": 0, "content_block": { "type": "thinking", "thinking": "" } }
    },
    {
      "type": "stream_event",
      "event": { "type": "content_block_delta", "index": 0, "delta": { "type": "thinking_delta", "thinking": "Let me think about " } }
    },
    {
      "type": "stream_event",
      "event": { "type": "content_block_delta", "index": 0, "delta": { "type": "thinking_delta", "thinking": "this carefully..." } }
    },
    {
      "_comment": "Signature delta provides integrity check for the thinking block",
      "type": "stream_event",
      "event": { "type": "content_block_delta", "index": 0, "delta": { "type": "signature_delta", "signature": "EqoBCkgIAhgCIkC8sIZMBLVPMaDY07OmB" } }
    },
    {
      "type": "stream_event",
      "event": { "type": "content_block_stop", "index": 0 }
    },
    {
      "_comment": "Text block follows thinking",
      "type": "stream_event",
      "event": { "type": "content_block_start", "index": 1, "content_block": { "type": "text", "text": "" } }
    },
    {
      "type": "stream_event",
      "event": { "type": "content_block_delta", "index": 1, "delta": { "type": "text_delta", "text": "After careful " } }
    },
    {
      "type": "stream_event",
      "event": { "type": "content_block_delta", "index": 1, "delta": { "type": "text_delta", "text": "consideration, the answer is 42." } }
    },
    {
      "_comment": "Complete assistant message arrives before stream finishes",
      "type": "assistant",
      "message": {
        "model": "claude-opus-4-6",
        "id": "msg_01Think",
        "role": "assistant",
        "content": [
          { "type": "thinking", "thinking": "Let me think about this carefully...", "signature": "EqoBCkgIAhgCIkC8sIZMBLVPMaDY07OmB" },
          { "type": "text", "text": "After careful consideration, the answer is 42." }
        ],
        "stop_reason": "end_turn",
        "usage": { "input_tokens": 200, "output_tokens": 80, "cache_read_input_tokens": 0, "cache_creation_input_tokens": 0 }
      },
      "session_id": "550e8400-e29b-41d4-a716-446655440000"
    },
    {
      "type": "stream_event",
      "event": { "type": "content_block_stop", "index": 1 }
    },
    {
      "type": "stream_event",
      "event": { "type": "message_delta", "delta": { "stop_reason": "end_turn" }, "usage": { "output_tokens": 80 } }
    },
    {
      "type": "stream_event",
      "event": { "type": "message_stop" }
    },
    {
      "type": "result",
      "subtype": "success",
      "is_error": false,
      "usage": { "input_tokens": 200, "output_tokens": 80, "cache_read_input_tokens": 0, "cache_creation_input_tokens": 0 }
    }
  ]
}
